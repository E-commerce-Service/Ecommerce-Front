<div class="min-h-screen bg-gray-50/50 py-6 pt-28 px-4 sm:px-6 lg:px-8">
   <div class="max-w-5xl mx-auto space-y-4 md:space-y-6">
      <div
         class="bg-white shadow-sm rounded-2xl overflow-hidden border border-gray-100"
      >
         <div
            class="h-28 md:h-40 bg-gradient-to-r from-blue-600 via-blue-500 to-blue-400 relative"
         >
            <div class="absolute inset-0 opacity-10"></div>
         </div>

         <div class="px-4 md:px-6 pb-4 md:pb-6">
            <div
               class="relative flex flex-col md:flex-row items-center md:items-end -mt-10 md:-mt-12 mb-2 gap-3 md:gap-6"
            >
               <div class="relative shrink-0">
                  <div
                     class="h-20 w-20 md:h-32 md:w-32 rounded-full ring-4 ring-white bg-gradient-to-br from-orange-base to-orange-500 flex items-center justify-center text-white shadow-lg z-10"
                  >
                     <span class="text-xl md:text-3xl font-bold">{{
                        userInitials()
                     }}</span>
                  </div>
                  <div
                     class="absolute bottom-1 right-1 md:bottom-2 md:right-2 h-4 w-4 md:h-5 md:w-5 bg-green-500 border-2 md:border-4 border-white rounded-full"
                  ></div>
               </div>

               <div class="flex-1 text-center md:text-left mt-1 md:mt-0">
                  @if (currentUser(); as user) {
                     <h1 class="text-xl md:text-3xl font-bold text-gray-900">
                        {{ user.name }}
                     </h1>

                     <div
                        class="flex flex-col md:flex-row items-center gap-1 md:gap-2 mt-1 text-xs md:text-sm text-gray-500"
                     >
                        <div class="flex items-center gap-1">
                           <svg
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 20 20"
                              fill="currentColor"
                              class="w-3 h-3 md:w-4 md:h-4"
                           >
                              <path
                                 d="M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.162V6a2 2 0 00-2-2H3z"
                              />
                              <path
                                 d="M19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002 2h14a2 2 0 002-2V8.839z"
                              />
                           </svg>
                           <span>{{ user.email }}</span>
                        </div>
                        <span class="hidden md:inline text-gray-300">•</span>
                        <span
                           class="px-2 py-0.5 rounded-full text-[10px] md:text-xs font-medium"
                           [ngClass]="
                              user.userType === 'ADMIN'
                                 ? 'bg-purple-100 text-purple-700 border border-purple-200'
                                 : 'bg-green-100 text-green-700 border border-green-200'
                           "
                        >
                           {{
                              user.userType === "ADMIN"
                                 ? "Administrador"
                                 : "Cliente"
                           }}
                        </span>
                     </div>
                  }
               </div>

               <div
                  class="flex items-center gap-2 md:gap-3 mt-3 md:mt-0 w-full md:w-auto"
               >
                  <button
                     (click)="logout()"
                     class="group flex items-center justify-center gap-2 px-4 py-2 w-full md:w-auto bg-white border border-gray-200 rounded-lg text-xs md:text-sm font-medium text-gray-700 hover:bg-red-50 hover:text-red-600 hover:border-red-100 transition-all shadow-sm"
                  >
                     <img
                        src="assets/icons/logout.svg"
                        alt="Logout"
                        class="w-5 h-5 md:w-6 md:h-6 text-orange-600"
                     />
                     Sair
                  </button>
               </div>
            </div>
         </div>
      </div>

      @if (currentUser(); as user) {
         <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6">
            <div
               class="bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden"
            >
               <div
                  class="px-4 md:px-6 py-3 md:py-4 border-b border-gray-50 bg-gray-50/50 flex items-center justify-between"
               >
                  <h2
                     class="text-sm md:text-base font-semibold text-gray-900 flex items-center gap-2"
                  >
                     <img
                        src="assets/icons/personal-info.svg"
                        class="w-4 h-4 md:w-5 md:h-5 text-orange-base"
                        alt="Address"
                     />
                     Informações Pessoais
                  </h2>
                  <button
                     class="text-xs md:text-sm text-blue-600 hover:text-blue-800 font-medium"
                  >
                     Editar
                  </button>
               </div>

               <div class="px-4 md:px-6 py-2">
                  <dl class="divide-y divide-gray-100">
                     <div class="py-3 md:py-4 sm:grid sm:grid-cols-3 sm:gap-4">
                        <dt
                           class="text-xs md:text-sm font-medium text-gray-500"
                        >
                           ID do Usuário
                        </dt>
                        <dd
                           class="mt-1 text-xs md:text-sm text-gray-900 sm:col-span-2 sm:mt-0 font-mono bg-gray-50 px-2 py-1 rounded w-fit truncate max-w-full"
                        >
                           {{ user.id }}
                        </dd>
                     </div>

                     <div class="py-3 md:py-4 sm:grid sm:grid-cols-3 sm:gap-4">
                        <dt
                           class="text-xs md:text-sm font-medium text-gray-500"
                        >
                           Nome Completo
                        </dt>
                        <dd
                           class="mt-1 text-xs md:text-sm text-gray-900 sm:col-span-2 sm:mt-0"
                        >
                           {{ user.name }}
                        </dd>
                     </div>

                     <div class="py-3 md:py-4 sm:grid sm:grid-cols-3 sm:gap-4">
                        <dt
                           class="text-xs md:text-sm font-medium text-gray-500"
                        >
                           Membro desde
                        </dt>
                        <dd
                           class="mt-1 text-xs md:text-sm text-gray-900 sm:col-span-2 sm:mt-0"
                        >
                           {{ user.createdAt | date: "d" }} de
                           {{ user.createdAt | date: "MMMM" }} de
                           {{ user.createdAt | date: "y" }}
                        </dd>
                     </div>
                  </dl>
               </div>
            </div>

            <div
               class="bg-white shadow-sm rounded-xl border border-gray-100 overflow-hidden flex flex-col h-full"
            >
               <div
                  class="px-4 md:px-6 py-3 md:py-4 border-b border-gray-50 bg-gray-50/50 flex items-center justify-between"
               >
                  <h2
                     class="text-sm md:text-base font-semibold text-gray-900 flex items-center gap-2"
                  >
                     <img
                        src="assets/icons/address-pin.svg"
                        class="w-4 h-4 md:w-5 md:h-5 text-orange-base"
                        alt="Address"
                     />
                     Endereço de Entrega
                  </h2>
                  <span
                     class="text-[10px] md:text-xs font-medium px-2 py-1 bg-gray-100 text-gray-600 rounded"
                     >Principal</span
                  >
               </div>

               <div
                  class="px-4 md:px-6 py-6 flex-1 flex flex-col justify-center"
               >
                  @if (user.street && user.city) {
                     <div class="flex items-start gap-3 md:gap-4">
                        <div
                           class="bg-orange-50 p-2 md:p-3 rounded-full shrink-0"
                        >
                           <img
                              src="assets/icons/home.svg"
                              alt="Home"
                              class="w-5 h-5 md:w-6 md:h-6 text-orange-600"
                           />
                        </div>
                        <div>
                           <p
                              class="text-sm md:text-lg font-medium text-gray-900"
                           >
                              {{ user.street }}
                           </p>
                           <p
                              class="text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1"
                           >
                              {{ user.city }} - {{ user.state }}
                           </p>
                           <p class="text-xs md:text-sm text-gray-500">
                              {{ user.zip }}
                           </p>
                        </div>
                     </div>
                  } @else {
                     <div class="text-center py-4 md:py-6">
                        <div
                           class="inline-flex items-center justify-center w-10 h-10 md:w-12 md:h-12 rounded-full bg-gray-100 mb-2 md:mb-3"
                        >
                           <img
                              src="assets/icons/address-pin.svg"
                              alt="No Address"
                              class="w-5 h-5 md:w-6 md:h-6 text-orange-600"
                           />
                        </div>
                        <p class="text-gray-500 text-xs md:text-sm">
                           Nenhum endereço cadastrado.
                        </p>
                     </div>
                  }
               </div>

               <div
                  class="px-4 md:px-6 py-3 md:py-4 bg-gray-50 border-t border-gray-100"
               >
                  <button
                     disabled
                     class="w-full py-2 px-4 border border-gray-300 rounded-md shadow-sm text-xs md:text-sm font-medium text-gray-400 bg-white cursor-not-allowed flex items-center justify-center gap-2"
                  >
                     <img
                        src="assets/icons/edit.svg"
                        alt="Edit"
                        class="w-5 h-5 md:w-6 md:h-6 text-orange-600"
                     />
                     Gerenciar Endereços (Em breve)
                  </button>
               </div>
            </div>
         </div>
      } @else {
         <div class="animate-pulse space-y-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
               <div class="h-48 md:h-64 bg-gray-200 rounded-xl"></div>
               <div class="h-48 md:h-64 bg-gray-200 rounded-xl"></div>
            </div>
         </div>
      }
   </div>
</div>
